# aws Certified Solutions Architect Associate SAA-C03

Syllabus Overview:
  Compute:
    - EC2
    - Lambda
    - Elastic Beans
  Storage:
    - S3
    - EBS
    - EFS
    - FSx
    - Storage Gateway
  Database:
    - RDS
    - DynamoDB
    - Redshift
  Networking:
    - VPCs
    - Direct Connect
    - Route53
    - API Gateway
    - AWS Global Accelator
  

# aws Services

IAM(Identity and Access Management):
  - IAM is a Global Service.
  - Groups only contains users, not other groups.
  - ARN stands for amazon resource name.
  - Always give users minimum amount of access required to do their jobs.
  - Create groups and attach them to users, this is the best practice.

  Roles:
    - Role is an identity in IAM that has specific permissions.
    - Roles are temporary which is preferred option for security purpose.
    - Roles provide access without the access key IDs and secret access keys by attaching it to ec2. This is the preferred method.
    - Policies control a role's permissions.



S3(Simple Storage Solution):
  - Can be use to store static data like text file, image file, videos, any file type but not Operating System or use as Databases.
  - Total volume of data and number of objects is unlimited in S3.
  - Objects can be maximum at 5TB in size.
  - S3 Bucket is similar to folder in storage system. All aws accounts share the S3 namespace. Each S3 namespace is globally unique.
  - S3 stores data as a key-value pair system. file name will be key and files data will be the value.
  - S3 Bucket also have a version ID which is important for storing multiple version of a project.
  - Metada which is data about the data that is storing in S3 Bucket. (i.e. content-type, last-modified)


  Characteristic:
    - S3 offers a range of storage class designed for different use cases.
    - Define rules to automatically transition objects to a cheaper storage storage tier or delete objects that are no longer required after a set period of time.
    - All versions of an object are stored and can be retrieved, including deleted objects.


  Securing Data:
    - Strong Read-After-Write consistency.
    - S3 Buckets are private by default(including all objects within it). Buckets has to allow public access on both bucket and its objects in order to make the bucket public.
    - S3 scales automatically to meet demand.
    - In S3 bucket policy should be enabled for entire bucket.


  S3 Versioning:
    - All versions of objects are stored in S3. This includes all writes even deleted objects. Once enabled cannot be disabled. Only suspend is allowed.
    - It is a great backup tool.
    - Can be integrated with lifecycle rules.
    - Multi Factor Authentication support for securing data.


  S3 Classes:
    S3 Standard Options:
      - S3 Standard
      - S3 Standard-Infrequent Access
      - S3 Standard One Zone-Infrequent Access
      - S3 Intelligent-Tiering
    S3 Glacier Options:
      - Glacier Instant Retrieval
      - Glacier Flexible Retrieval
      - Glacier Deep Archive


  Life Cycle Management:
    - Automate moving of objects between different storage tiers.
    - Can be used in conjunction with versioning.
    - Can be applied to current version as well as previous versions.


  S3 Objects Lock and Glacier Vault Lock:
    S3 Objects Lock:
      - S3 Object Lock, uses to store objects using write once, rady many (WORM) model.
      - S3 Object Lock, can be used in a individual objects or across the bucket as a whole.
      
      Object Lock provides two ways to manage object retention (retention periods and legal holds):
        - Retention period — Specifies a fixed period of time during which an object remains locked. During this period, your object is WORM-protected and can't be overwritten or deleted.
        - Legal hold — Provides the same protection as a retention period, but it has no expiration date. Instead, a legal hold remains in place until you explicitly remove it. Legal holds are independent from retention periods. "s3:PutObjectLegalHold"

      - S3 Object, comes with two modes (governance mode and compliance mode):
        - Governance Mode - Users can't overwrite or delete and object version or alter it's lock settings unless they have special permissions.
        - Compliance Mode - A protected object version cannot be overwritten or deleted by any user, including the root user account in aws.

    S3 Glacier Vault Lock:
      - S3 Glacier Vault Lock helps you to easily deploy and enforce compliance controls for individual S3 Glacier vaults with a Vault Lock policy. You can specify controls such as "write once read many" (WORM) in a Vault Lock policy and lock the policy from future edits. Once locked, policy can no longer be changed.


  S3 Ecncryption:
    Encryption in transit:
      - SSL/TLS
      - HTTPS

    Encryption at REST:
      Server Side Encryption:
        - SSE-S3 (AES 256-bit)
        - SSE-KMS (KMS Managed Keys)
        - SSE-C (Customer Managed)

      Client Side Encryption:
        - User enforce to encrypt files before uploading to S3.

      Enforcing Encryption with a Bucket Policy:
        - A bucket policy can deny all PUT request that don't include x-amz-server-side-encryption parameter in the request header.

      SSE-KMS:
        - If KMS encryption used in object then it has limits in object requests.
        - uploading/downloading will count towards KMS quota.
        - region specific, it is 5500, 10000, or 30000 requests per second.
        - currently KMS doesn't allow to request for quota increase.


  S3 Performance:
    - Prefix - bucketname/folder/subfolder/file.txt > /folder/subfolder
    - 3500 PUT/DELETE/COPY and 5500 GET/HEAD request per second, per prefix.
    - More prefix means more speed, if there is 2 prefixes ahcieving object request will be 11000 per second.
    - Multipart uploads for uploading files to increase performance. Should be used for any files that is over 100 MB, required for over 5 GB files.
    - Use byte-range fetches to download files from S3 for increase perfromance.



EC2(Elastic Compute Cloud):
  - AMI - Amazon Machine Image
  - https://instances.vantage.sh/ (EC2 Instance Info)


  Ports Info:
    - 22 SSH (Secure Shell) - For login into Linux.
    - 21 FTP (File Transfer Protocol) - Upload files into file file share.
    - 22 SFTP (Secure File Transfer Protocol) - Upload files using SSH.
    - 80 HTTP - Access unsecured website.
    - 443 HTTPS - Access secured website.
    - 3389 RDP (Remote Desktop Protocol) - Log into a windows instance.


  EC2 Purchasing Options:
    - On-Demand Instances - short time workload, testing, predictable pricing, pay by hour or second, depending on the type of instance. Without paying any upfront.

    - Reserved Instances (1 & 3 years) - Application with steady state or predictable usage or application that require reserved capacity. Make upfront to reduce compute cost. Up to 72% discount on hourly charge. Reserved instances can be scheduled for a time and it is regional.

      - Standard Reserved Instances - Long workloads, up to 72% off on-demand price.
    
      - Convertible Reserved Instances - Long workloads with flexible instances, up to 54% off on-demand price. Has ability to change reserved instances type greater or equal value.

    - Spot Instances - Short workloads with urgent capacity, cheap, can lose instances (less reliable). Use cases high performance computing, big data analytics, CI/CD pipeline, containerized. Can't be used in persistent workloads, databases or in critical jobs. Save upto 90%. For persistent spot request user have to go and cancel the spot request first then terminate. A "Spot Fleet" is a collection of "Spot Instances" and (optionally) "On-Demand Instances". Spot fleet will try and match the target capacity with the price restraints, can be configured with multiple pools. You can block spot instances from terminating by using "Spot Block".
  
    - Dedicated Hosts
      - Compliance - Regulatory requirements that may not support multi-tenant virtualization.
      - Licensing - Greate for licensing that doesn't support multi-tanant or cloud deployment.
      - On-Demand - Can be purchase for on-demand (hourly).
      - Reserved - Can be purchased as a reservation for up to 70% off the on-demand price.


  Security Groups and Bootstrap scripts:
    - Security groups are virtual firewall for ec2 instances. By default, everything is blocked.
    - All inbound traffic is blocked and outbound traffic is allowed in by default.
    - Security groups can be attached to multiple instances also instances can have multiple groups attached to it.
    - Security groups live outside the EC2 instances.
    - Security groups are stateful.
    - User data is bootstrap scripts.
    - Bootstrap scripts runs at instance boot time and it has root level permission. It passes user data to ec2 instance. Can be use to install applications like web servers and database.
    - Meta data is data about data, in this case it is data about the ec2 instances.
    - Bootstrap scripts aka "user data" can be use to access metadata.


  EC2 Networking:
    - ENI (Elastic Network Interface) - For basic, day to day networking.
    - EN (Enhanced Networking) - Uses single root i/o virtualization (SR-IOV) to provide high performance. Depending on instance type, Enhanced Networking can be enabled using
      - ENA (Elastic Network Adapter) - Supports network speeds upto 100 Gbps for supported instance types.
      - VF (Intel 82599 Virtual Function Interface) - Supports network speeds upto 10 Gbps for supported instance types. Typically used on older instances.
    - EFA (Elastic Fabric Adapter) - accelerates high performance computing (HPC) using os-bypass and machine learning applications.


  EC2 Placement Group:
    - Only certain types of instances can be launched in a placement group.
    - Placement group merging is not allowed.
    - To move a existing instance to placement group first the instance need to be in stopped state. Moving and removing instances using aws CLI or aws SDKs but available via console yet.
    
    There are 3 types of ec2 placement groups.

      - Cluster - Grouping of instances with a single availability zone. Recommended for applications that need low latency or high network throughput or both. Only certain instance types can be launched into a cluster palcement group.

      - Spread - Spread placement group is a group of instances that each placed on distinct underlying hardware. Spread placement groups are recommended for applications that have small number of critical instances that should be kept separate from each other.

      - Partition - Spreads your instances across logical partitions such that groups of instances in one partition do not share the underlying hardware with groups of instances in different partitions.


  vCenter and VMware:
    - vCenter can be deplyed into aws cloud using VMware.
    - vCenter on AWS allows you to extend your private cloud to the AWS cloud.

  
  Outposts:
    - extending aws into data center this is where outposts comes in.
    - aws outposts racks for large deployment.
    - aws servers for smaller deployments.



EBS(Elastic Block Store):
  - Storage volumes that can attach to ec2 instances.
  - Automatically replicated within a single availability zone to protect against hardware failure.
  - Designed for mission critical data like production workloads.
  - Dynamically increase capacity and change the volume type with no downtime or performance impact in live system.


  Volume Types:

    - SSD(Solid State Disk):

      - General Purpose SSD(gp2):
        - 3 IOPS per GiB, upto maximum of 16,000 IOPS per volume.
        - gp2 volumes smaller than 1 TB can burst upto 3,000 IOPS.
        - Good for boot volumes, development and test applications that are not latency sensitive.

      - General Purpose SSD(gp3):
        - Predictable 3000 IOPS baseline performance and 125 MiB/s regardless of volume size.
        - Ideal for applications that require high performance at a low cost, such as MySQL, cassandra, virtual desktops and Hadoop analytics.
        - the performance of gp3 4 times faster than max throughput of gp2 volumens.

      
      - Provisioned IOPS SSD(io1):
        - The high performance option and the most expensive.
        - Upto 64,000 IOPS per volume.
        - 50 IOPS per GiB.
        - Use case if there is need more than 16000 IOPS for both io1 and io2.
        - Designed for I/O-intensive applications, large database and latency sensitive workloads.

      - Provisioned IOPS SSD(io2):
        - Latest generation.
        - higher durability and more IOPS.
        - io2 is the same price as the io1.
        - 500 IOPS per GiB, Upto 64,000 IOPS.
        - 99.999% durablity instead of 99.9%
        - Designed for I/O-intensive applications, large database and latency sensitive workloads. Application that needs high durability.


    - HDD(Hard Disk Drive):

      - Throughput Optimized HDD(st1):
        - Low cost HDD Volume.
        - Baseline throughput of 40 MB/s per TB.
        - Ability to burst upto 250 MB/s per TB.
        - Maximum throughput of 500 MB/s per volume.
        - Frequently accessed, throughput-intensive workloads.
        - Big data, Data warehouse, ETL(Extract Transoform and Load) and log processsing. **
        - A cost effective way to store mountains of data.
        - Cannot be a boot volume.
      
      - Cold HDD(sc1):
        - Baseline throughput of 12 MB/s per TB.
        - Ability to burst upto 40 MB/s per TB.
        - Maximum throughput of 250 MB/s per volume.
        - A good choice for colder data requiring less scans per day.
        - Good for applications that need lowest cost and performance not a factor.
        - Cannot be a boot volume.


  Volumes and Snapshots:
    - Volumes exist on EBS where Snapshots exist on S3.
    - Snapshots are point-in-time photographs of the volumes and are incremental in nature.
    - Fisrt snapshot will take some time to create. For consistent snapshot, stop the instance and detach the volume.
    - Snapshots can be shared between aws accounts as well as between regions, but first it needs to be copied in target region.
    - EBS volumes can be resized in the fly as well as changing of the volume types.


    EBS Volumes:
      - EBS volumes always will be at the same AZ as the EC2 instance to which it is attached.
      - EBS volumes can be resized on the fly. There is no need to stop or restart the instance. However, filesystem needed to be extended on the OS level so OS can see the resized volume.
      - Volume types can be changed on the fly (e.g., from gp2 to io2). There is no need to stop or restart the instance.

    Snapshots:
      - Snapshot only captures data that has been written to EBS volume, which might exclude any data that has locally cached by application or the OS. For a consistent snapshot, it is recommended to stop the instance and take a snap.
      - Snapshot of a encrypted EBS volume will be encrypted automatically.
      - Snapshots can be shared only in the region which they were created. To share in other regions, snapshots need to copy in other regions first.


  Volume Encryption:

    Encrypted Volumes:
      - Data at rest is encrypted inside the volume.
      - All data in flight moving between the instance and volume is encrypted.
      - All snapshots are encrypted.
      - All volumes created from snapshots are encrypted.

    Encrypt Voumes:
      - Create a snapshot of the unencrypted volume.
      - Create a copy of the snapshot and select the encryption option.
      - Create an AMI from the encrypted snapshot.
      - Use the AMI to launch the new encrypted instance.


  EC2 Hibernation:
    - Preserves the in-memory(RAM) on persistent storage(EBS).
    - Much faster in boot up because there is no need to reload the operating system.
    - Instance RAM must be less than 150 GB.
    - Instance families include C3, C4, C5, M3, M4, M5, R3, R4 and R5 (CMR Group).
    - Available for Windows, Amazon Linux 2 AMI and Ubuntu.
    - Instances can't be hibernated for more than 60 days.
    - Available for On-Demand instances and Reserved instances.


  Elastic File System(EFS):
    - Highly scalable shared storage using NFS.
    - Supports the Network File System version 4(NFSv4) protocol.
    - Only pay for the storage that in use (no pre-provisioned required).
    - Can scale upto petabytes.
    - Supports thousands of concurrent NFS connection.
    - Data is stored accross multiple AZs within a region.
    - Read after write consistency.


  FSx:

    EFS:
      - Distributed, highly resilient storage for linux instances and linux-based application.

    Amazon FSx for Windows:
      - Centralized storage for windows-based application, such as Sharepoint, Microsoft SQL Server, Workspaces, IIS Web Server or any other native Microsoft application.

    Amazon FSx for Lustre:
      - High-speed, high-capacity distributed storage. This wil be for application that do high performance computing(HPC), financial modeling etc. FSx for lustre can store data directly on S3.


  AMIs:
    EBS vs Instance Store:
      - Instance Store volumes are sometimes called ephemeral storage.
      - Instance Store volume cannot be stopped. If the underlying host/hardware fails data will be lost.
      - EBS-backed instances can be stopped. Data will not lose in the stopped state.
      - EBS and Instance Store both can be rebooted without losing data.
      - By default, root volume will be deleted. However, with EBS volumes, it can be configured to keep the root device volume.
      - An AMI is just a blueprint for ec2 instance.

  AWS Backup:
    
    Consolidation:
      - Use AWS Backup to backup aws services, such as EC2, EBS, EFS, FSx for Lustre, FSx for windows file server and Storage Gateway.
    
    Organisation:
      - AWS Organisation can be conjunctioned with AWS Backup to backup different aws services across multiple aws accounts.

    Benifits:
      - Backup gives centralized control, by automating backups and defining life cycle policies for data. To get better compliance, enforcing backup policies, ensuring backups are encrypted and audit them once they are completed.



Databases:
  
  RDS:
    - SQL Server, Oracle, MySQL, PostgreSQL, MariaDB and Amazon Aurora are RDS type database.
    - RDS is for OLTP works. Great for processing small transactions, like customer orders, banking transactions, payments and booking systems.
    - Not suitable for OLAP. Use Redshift for data warehousing and OLAP tasks. Like analyzing large amount of data, reporting and sales forecasting.

    Multi-AZ:
      - An exact copy of production database in another Availability Zone.
      - Used for disaster recovery.
      - In the event of a failure, RDS will automatically fail over to the stand by instance.

    Read Replica:
      - A read only copy of the primary database in the same AZ, cross-AZ or cross-region.
      - Use to increase or scale read performance.
      - Great for read-heavy workloads and takes the load off to primary database for read-only workloads (e.g., Business Intelligence reporting jobs).
      - Automatic backup must be enabled in order to deploy a read replica.
      - SQL Server, Oracle, MySQL, PostgreSQL, MariaDB allow upto 5 read replicas to each DB instance.


    Amazon Aurora:
      - 2 copies of data in each availability zone, with a minimum of 3 availability zone which makes it 6 copies of data.
      - 3 types of replicas available >> Aurora replicas, MySQL replicas and PostgreSQL replicas. Automated failover is only available with Aurora replicas.
      - Aurora has automated backup turned-on by default. Snapshots can be taken with Aurora and share with other AWS accounts.
      - Aurora serverless use for simple, cost effective option for infrequent intermittent or unpredictable workloads.


    Dynamo DB:
      - Stored on SSD storage.
      - Spread across 3 geographically distinct data centers.
      - Eventually consistent reads (default). Consistency across all copies of data is reached within a second. Repeating a read after a short time should return the updated data. Best read performance.
      - Strongly consistent reads. A strongly consistent read returns a result that reflects all writes that received a successful repsonse prior to the end.

      Dynamo DB Transactions:
        - ACID requirement is the task for Dynamo DB Transactions.
        - Dynamo DB Transactions provide developers atomocity, consistency, isolation and durability (ACID) across 1 or more tables within a single AWS account and region.
        - All-or-nothing transactions.

      On-demand Backup and Restore:
        - Full backups at any time.
        - Zero impact on table performance or availability.
        - Consistent within seconds and retained until deleted.
        - Operates within same region as the source table.

      Point-in-time Recovery (PITR):
        - Protects against accidental writes or deletes.
        - Restore to any point in the last 35 days.
        - Incremental backups.
        - Not enabled by default.
        - Latest restorable - 5 minutes in the past.

      Dynamo DB Streams and Global Tables:
        - Managed multi-master and multi-region replication.
          - Globally distributed application.
          - based on Dynamo DB streams.
          - Multi-region redundency for disaster recovery or high availability.
          - No application re-writes.
          - Replication latency under 1 second.

      
    Document DB:
      - Migrating Mongo DB from on-premises to AWS, use case will be Amazon Document DB.

    
    AWS Keyspaces:
      - Migrating big data Cassandra cluster to AWS, use case will be AWS Keyspaces.


    Neptune:
      - Migrating graph databases, use cases will be Neptune.

    
    QLDB (Quantum Ledger Database):
      - Migrating immutable database, use cases will be QLDB.


    Timestream:
      - Store large amount of time-series data for analysis, use cases is Timestream.
  


VPC:
  - VPC is a logical data center in AWS.
  - Consists of internet gateways (virtual private gateways), route tables, network access control lists, subnets and security groups.
  - 1 subnet is always in 1 availability zone.
  

  NAT Gateways:
    - A highly available, managed Network Address Translation (NAT) service that instances in private subnets can use to connect to services in other VPCs, on-premises networks, or the internet.
    - Redundent inside the availability zone.
    - Starts at 5 Gbps and scales currently to 45 Gbps.
    - No need to patch.
    - Not associate with security groups.
    - Automatically assigned a public IP address.
    - If there is resources in multiple availability zone and they share a NAT gateway. In the event NAT gateways zone is down, resource in other availability zone will lose internet access.
    - To create a availability zone-independent architecture, create NAT gateway in each availability zone and configure routing to ensure resources use the NAT gateway in the same availability zone.
    

    Network ACLs:
      - VPC automatically comes with a default network ACL, by default it allows all inbound and outbound traffic.
      - By default custom network ACLs denies all inbound and outbound traffic untill rules are added.
      - Each subnet in VPC must be associated with a network ACL. If not explicitly associated with a network ACL, the subnet will automatically associate with the default netowork ACL.
      - IP addresses are blocked by the network ACL not security groups.
      - Network ACLs can be associate with multiple subnets; however, a subnet can be associated with a only 1 ACL at a time. When a new network ACL attached to a subnet the previous association is removed.
      - Network ACLs are numbered list of rules that are evaluated in order, starting with the lowest numbered rule.
      - Netwrok ACLs have separate inbound and outbound rules and each rule can either allow or deny traffic.
      - Network ACLs are stateless; responses to allowed inbound traffic are subject to the rules for the outbound traffic (and vice versa).


    VPC Endpoints:
      - Use cases will be AWS services without leaving the amazon internal network.
      - 2 types of VPC Endpoints, interface endpoints and gateway endpoints.
      - Gateways endpoints only supports S3 and DynamoDB.


    VPC Peering:
      - Allows 1 VPC to connect another via direct network route using private IP addresses.
      - Transitive peering is not supported. This must always be in a hub-and-spoke model.
      - Peer between regions is available.
      - No overlapping CIDR address ranges.


    AWS PrivateLink:
      - Peering VPCs to tens, hundreds or thousands of customer VPCs.
      - Doesn't require VPC peering; no route tables, NAT Gateways, Internet Gateways etc.
      - Requires Network Load balancer on Service VPC and ENI on the customer VPC.


    AWS VPN CloudHub:
      - If there is multiple sites, each with its own VPN connection. AWS VPN CloudHub can be use to connect those sites together. It's similar to VPC peering in that it works on a hub-and-spoke model.
      - AWS VPN CloudHub is low cost and easy to manage. Though it operates over the public internet. All traffic between the customer gateway and AWS VPN CloudHub is encrypted.


    Direct Connect:
      - Direct Connect directly connects data centers to AWS.
      - Useful for high-throughput workloads (e.g., lots of network traffic)
      - Helpful when need a stable and reliable secure connection.


    Transit Gateway:
      - Route tables can be use to limit how VPCs talk one to another.
      - Works with Direct Connect as well as VPN connections.
      - Supports IP multicast (not supported by any other AWS services).


    AWS Wavelength:
      - 5G increasing application speeds at the edge using mobile networks.


    